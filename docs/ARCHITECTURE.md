# ğŸ—ï¸ é¡¹ç›®æ¶æ„åˆ†æ

## ğŸ“‹ ç›®å½•
- [ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ](#ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ)
- [æ ¸å¿ƒæ¨¡å—è®¾è®¡](#æ ¸å¿ƒæ¨¡å—è®¾è®¡)
- [æ•°æ®æµåˆ†æ](#æ•°æ®æµåˆ†æ)
- [æ€§èƒ½ä¼˜åŒ–ç­–ç•¥](#æ€§èƒ½ä¼˜åŒ–ç­–ç•¥)
- [æ‰©å±•æ€§è®¾è®¡](#æ‰©å±•æ€§è®¾è®¡)

## ğŸ¯ ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ

### æ•´ä½“æ¶æ„æ¨¡å¼
æœ¬é¡¹ç›®é‡‡ç”¨**æ¨¡å—åŒ–ç»„ä»¶æ¶æ„**ï¼ŒåŸºäºä»¥ä¸‹è®¾è®¡åŸåˆ™ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·ç•Œé¢å±‚ (UI Layer)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   æ¸¸æˆé€»è¾‘å±‚ (Game Logic)                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   æ¸²æŸ“å¼•æ“å±‚ (Render Engine)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   ç‰©ç†å¼•æ“å±‚ (Physics Engine)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€æœ¯æ ˆæ¶æ„
```
Frontend Stack:
â”œâ”€â”€ Three.js (3Dæ¸²æŸ“å¼•æ“)
â”œâ”€â”€ TypeScript (ç±»å‹å®‰å…¨)
â”œâ”€â”€ Vite (æ„å»ºå·¥å…·)
â”œâ”€â”€ CSS3 (æ ·å¼å’ŒåŠ¨ç”»)
â””â”€â”€ HTML5 (ç»“æ„)
```

## ğŸ§© æ ¸å¿ƒæ¨¡å—è®¾è®¡

### 1. æ¸¸æˆä¸–ç•Œç®¡ç† (GameWorld)
**èŒè´£**: 3Dåœºæ™¯ç®¡ç†ã€å…‰ç…§ç³»ç»Ÿã€ç¯å¢ƒæ¸²æŸ“
```typescript
class GameWorld {
  - scene: THREE.Scene
  - camera: THREE.PerspectiveCamera  
  - renderer: THREE.WebGLRenderer
  + initScene(): void
  + initLighting(): void
  + createStarField(): void
}
```

### 2. ç©å®¶ç³»ç»Ÿ (Player)
**èŒè´£**: ç©å®¶é£æœºæ§åˆ¶ã€æŠ€èƒ½ç³»ç»Ÿã€çŠ¶æ€ç®¡ç†
```typescript
class Player {
  - mesh: THREE.Group
  - skills: { [key: string]: Skill }
  - projectiles: Projectile[]
  + update(deltaTime: number): void
  + useSkill(skillName: string): boolean
  + shoot(aimDirection?: THREE.Vector3): boolean
}
```

### 3. æ•ŒæœºAIç³»ç»Ÿ (Enemy)
**èŒè´£**: æ•Œæœºè¡Œä¸ºã€AIé€»è¾‘ã€æˆ˜æ–—ç³»ç»Ÿ
```typescript
class Enemy {
  - movementPattern: 'straight' | 'zigzag' | 'circle'
  - boundingBox: THREE.Box3
  + update(deltaTime: number, playerPosition: THREE.Vector3): void
  + updateMovement(deltaTime: number): void
  + updateShooting(playerPosition: THREE.Vector3): void
}
```

### 4. ç„å‡†é•œç³»ç»Ÿ (Crosshair)
**èŒè´£**: ç²¾ç¡®ç„å‡†ã€ç›®æ ‡é”å®šã€å°„å‡»è¾…åŠ©
```typescript
class Crosshair {
  - raycaster: THREE.Raycaster
  - targetIndicators: HTMLElement[]
  + update(enemies: Enemy[], playerPosition?: THREE.Vector3): void
  + getAimingDirection(): THREE.Vector3
  + isCurrentlyAiming(): boolean
}
```

### 5. æ§åˆ¶ç³»ç»Ÿ (Controls)
**èŒè´£**: è¾“å…¥å¤„ç†ã€äº‹ä»¶ç®¡ç†ã€äº¤äº’é€»è¾‘
```typescript
class Controls {
  - keys: { [key: string]: boolean }
  - crosshair: Crosshair
  + handleMovement(): void
  + handleShooting(): void
  + setCrosshair(crosshair: Crosshair): void
}
```

## ğŸ”„ æ•°æ®æµåˆ†æ

### æ¸¸æˆå¾ªç¯æ•°æ®æµ
```
ç”¨æˆ·è¾“å…¥ â†’ æ§åˆ¶ç³»ç»Ÿ â†’ æ¸¸æˆé€»è¾‘ â†’ ç‰©ç†è®¡ç®— â†’ æ¸²æŸ“è¾“å‡º
    â†‘                                              â†“
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ UIåé¦ˆ â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è¯¦ç»†æ•°æ®æµç¨‹
1. **è¾“å…¥é˜¶æ®µ**
   - é”®ç›˜/é¼ æ ‡äº‹ä»¶ â†’ Controlsç±»
   - äº‹ä»¶è§£æ â†’ æ¸¸æˆæŒ‡ä»¤

2. **é€»è¾‘å¤„ç†é˜¶æ®µ**
   - ç©å®¶çŠ¶æ€æ›´æ–°
   - æ•ŒæœºAIè®¡ç®—
   - ç¢°æ’æ£€æµ‹
   - æŠ€èƒ½ç³»ç»Ÿå¤„ç†

3. **æ¸²æŸ“é˜¶æ®µ**
   - 3Dåœºæ™¯æ¸²æŸ“
   - UIç•Œé¢æ›´æ–°
   - ç‰¹æ•ˆå¤„ç†

### ç»„ä»¶é—´é€šä¿¡
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Player    â”‚â—„â”€â”€â–ºâ”‚  Controls   â”‚â—„â”€â”€â–ºâ”‚  Crosshair  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â–²                   â–²                   â–²
       â”‚                   â”‚                   â”‚
       â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                SpaceBattleGame                      â”‚
â”‚              (ä¸»æ¸¸æˆæ§åˆ¶å™¨)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â–²                   â–²                   â–²
       â”‚                   â”‚                   â”‚
       â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Enemy     â”‚    â”‚ Projectile  â”‚    â”‚ GameWorld   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âš¡ æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 1. æ¸²æŸ“ä¼˜åŒ–
- **å¯¹è±¡æ± æ¨¡å¼**: ç‚®å¼¹å’Œç²’å­é‡ç”¨
- **è§†é”¥å‰”é™¤**: åªæ¸²æŸ“å¯è§å¯¹è±¡
- **LODç³»ç»Ÿ**: è·ç¦»-ç»†èŠ‚çº§åˆ«ç®¡ç†

### 2. å†…å­˜ç®¡ç†
- **åŠæ—¶æ¸…ç†**: è¶…å‡ºè¾¹ç•Œå¯¹è±¡è‡ªåŠ¨é”€æ¯
- **å¼•ç”¨ç®¡ç†**: é¿å…å†…å­˜æ³„æ¼
- **èµ„æºå¤ç”¨**: æè´¨å’Œå‡ ä½•ä½“å…±äº«

### 3. è®¡ç®—ä¼˜åŒ–
- **ç©ºé—´åˆ†å‰²**: å‡å°‘ç¢°æ’æ£€æµ‹è®¡ç®—
- **å¸§ç‡æ§åˆ¶**: ç¨³å®š60FPS
- **å¼‚æ­¥åŠ è½½**: èµ„æºæŒ‰éœ€åŠ è½½

## ğŸ”§ æ‰©å±•æ€§è®¾è®¡

### 1. æ’ä»¶åŒ–æ¶æ„
```typescript
interface GamePlugin {
  name: string;
  init(game: SpaceBattleGame): void;
  update(deltaTime: number): void;
  dispose(): void;
}
```

### 2. é…ç½®é©±åŠ¨
```typescript
interface GameConfig {
  graphics: GraphicsSettings;
  gameplay: GameplaySettings;
  controls: ControlSettings;
}
```

### 3. æ¨¡å—åŒ–æŠ€èƒ½ç³»ç»Ÿ
```typescript
interface Skill {
  name: string;
  cooldown: number;
  energy: number;
  execute(player: Player): boolean;
}
```

## ğŸ“ˆ æ¶æ„ä¼˜åŠ¿

### 1. **å¯ç»´æŠ¤æ€§**
- æ¸…æ™°çš„æ¨¡å—åˆ†ç¦»
- å•ä¸€èŒè´£åŸåˆ™
- æ¾è€¦åˆè®¾è®¡

### 2. **å¯æ‰©å±•æ€§**
- æ’ä»¶åŒ–æ¶æ„
- é…ç½®é©±åŠ¨
- æ¥å£æŠ½è±¡

### 3. **å¯æµ‹è¯•æ€§**
- æ¨¡å—ç‹¬ç«‹
- ä¾èµ–æ³¨å…¥
- æ¥å£éš”ç¦»

### 4. **æ€§èƒ½ä¼˜åŒ–**
- å¯¹è±¡æ± æ¨¡å¼
- ç©ºé—´åˆ†å‰²
- æ¸²æŸ“ä¼˜åŒ–

## ğŸ”® æœªæ¥æ‰©å±•æ–¹å‘

### 1. **å¤šäººæ¸¸æˆæ”¯æŒ**
- WebSocketé€šä¿¡
- çŠ¶æ€åŒæ­¥
- å»¶è¿Ÿè¡¥å¿

### 2. **é«˜çº§AIç³»ç»Ÿ**
- æœºå™¨å­¦ä¹ AI
- è¡Œä¸ºæ ‘
- ç¾¤ä½“æ™ºèƒ½

### 3. **ç‰©ç†å¼•æ“é›†æˆ**
- Cannon.jsé›†æˆ
- çœŸå®ç‰©ç†æ¨¡æ‹Ÿ
- ç¢°æ’ä¼˜åŒ–

### 4. **éŸ³æ•ˆç³»ç»Ÿ**
- Web Audio API
- 3DéŸ³æ•ˆ
- åŠ¨æ€éŸ³ä¹
